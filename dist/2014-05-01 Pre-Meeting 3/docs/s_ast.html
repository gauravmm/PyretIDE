<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from www.pyret.org/docs/s_ast.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 24 Apr 2014 07:13:04 GMT -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>16&nbsp;AST</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="http://www.pyret.org/docs/index.html" class="tocviewlink" data-pltdoc="x">Pyret Language Reference</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="s_installing.html" class="tocviewlink" data-pltdoc="x">Installing Pyret</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="s_running.html" class="tocviewlink" data-pltdoc="x">Editing and Running Pyret</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="s_forms.html" class="tocviewlink" data-pltdoc="x">Language Constructs</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="s_testing.html" class="tocviewlink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="s_lists.html" class="tocviewlink" data-pltdoc="x">Lists</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="s_arrays.html" class="tocviewlink" data-pltdoc="x">Arrays</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="s_timing.html" class="tocviewlink" data-pltdoc="x">Timing Pyret Programs</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="s_cmdline.html" class="tocviewlink" data-pltdoc="x">Handling Command-<wbr></wbr>line Arguments</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="s_option.html" class="tocviewlink" data-pltdoc="x">Option</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="s_set.html" class="tocviewlink" data-pltdoc="x">Sets</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="s_numbers.html" class="tocviewlink" data-pltdoc="x">Numbers</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="s_strings.html" class="tocviewlink" data-pltdoc="x">Strings</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="s_misc.html" class="tocviewlink" data-pltdoc="x">Miscellaneous Functions</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="s_mutables.html" class="tocviewlink" data-pltdoc="x">Mutables</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="s_placeholders.html" class="tocviewlink" data-pltdoc="x">Placeholders</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">AST</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>16&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">AST</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">16.1&nbsp;</td><td><a href="#%28part._.A.S.T_.Functions%29" class="tocviewlink" data-pltdoc="x">AST Functions</a></td></tr><tr><td align="right">16.2&nbsp;</td><td><a href="#%28part._.A.S.T_.Datatypes%29" class="tocviewlink" data-pltdoc="x">AST Datatypes</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">16.1<tt>&nbsp;</tt></span><a href="#(part._.A.S.T_.Functions)" class="tocsubseclink" data-pltdoc="x">AST Functions</a></td></tr><tr><td><a href="#(parse._parse)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">parse</span></a></td></tr><tr><td><a href="#(parse-tc._parse-tc)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">parse-<wbr></wbr>tc</span></a></td></tr><tr><td><a href="#(to-native._to-native)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">to-<wbr></wbr>native</span></a></td></tr><tr><td><span class="tocsublinknumber">16.2<tt>&nbsp;</tt></span><a href="#(part._.A.S.T_.Datatypes)" class="tocsubseclink" data-pltdoc="x">AST Datatypes</a></td></tr><tr><td><a href="#(.Program._.Program)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Program</span></a></td></tr><tr><td><a href="#(.Header._.Header)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Header</span></a></td></tr><tr><td><a href="#(.Import.Type._.Import.Type)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Import<span class="mywbr"> &nbsp;</span>Type</span></a></td></tr><tr><td><a href="#(.Expr._.Expr)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Expr</span></a></td></tr><tr><td><a href="#(.Bind._.Bind)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Bind</span></a></td></tr><tr><td><a href="#(.Member._.Member)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Member</span></a></td></tr><tr><td><a href="#(.For.Bind._.For.Bind)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">For<span class="mywbr"> &nbsp;</span>Bind</span></a></td></tr><tr><td><a href="#(.If.Branch._.If.Branch)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">If<span class="mywbr"> &nbsp;</span>Branch</span></a></td></tr><tr><td><a href="#(.Cases.Branch._.Cases.Branch)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Cases<span class="mywbr"> &nbsp;</span>Branch</span></a></td></tr><tr><td><a href="#(.Ann._.Ann)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">Ann</span></a></td></tr><tr><td><a href="#(.A.Field._.A.Field)" class="tocsubnonseclink" data-pltdoc="x"><span style="font-weight: bold">AField</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">5.3.6</span></div><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="s_placeholders.html" title="backward to &quot;15 Placeholders&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="http://www.pyret.org/docs/index.html" title="up to &quot;Pyret Language Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3>16<tt>&nbsp;</tt><a name="(part._s~3aast)"></a>AST</h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>These bindings are not available in Captain Teach.</p></blockquote></blockquote></blockquote><p>The <span class="stt">ast</span> module holds a definition of the Pyret AST as a Pyret
<span class="stt">data</span> declaration, and several functions for parsing strings into
Pyret ASTs and printing them out again.</p><p>To use the <span class="stt">ast</span> module in your program, import it with:</p><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">import ast as &lt;name&gt;</span></span></p></td></tr></table></blockquote><h4>16.1<tt>&nbsp;</tt><a name="(part._.A.S.T_.Functions)"></a>AST Functions</h4><p><div class="SIntrapara"><a name="(parse._parse)"></a><span style="font-weight: bold">parse</span></div><div class="SIntrapara"><blockquote class="SubFlow"><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">fun parse(program :: String, name :: String, options :: { check :: Bool })</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">-&gt; { pre-desugar :: Program, post-desugar :: Program }:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div><div class="SIntrapara">Parses the program and returns its pre- and post- desugared AST.
  The provided name is used as the filename in source locations.
  If check is true, desugars any check and where blocks in the program.</div></p></blockquote></div><div class="SIntrapara"><a name="(parse-tc._parse-tc)"></a><span style="font-weight: bold">parse-tc</span></div><div class="SIntrapara"><blockquote class="SubFlow"><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">fun parse-tc(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">program :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">options :: { check :: Bool, env :: Any }</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">-&gt; Program:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div><div class="SIntrapara">Parses and "type-checks" the program, checking for unbound identifiers
  and wrapping any annotation-based contracts around expressions.
  The provided name and check are as in parse.
  The fields of env are treated as bound variables.  In the future this will be a richer
  datastructure that allows the specification of a more detailed type environment.</div></p></blockquote></div><div class="SIntrapara"><a name="(to-native._to-native)"></a><span style="font-weight: bold">to-native</span></div><div class="SIntrapara"><blockquote class="SubFlow"><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt">fun to-native(program :: Program):<span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></span></p></td></tr></table></blockquote></div><div class="SIntrapara">Creates a native representation of the AST suitable for passing to eval()</div></p></blockquote></div></p><h4>16.2<tt>&nbsp;</tt><a name="(part._.A.S.T_.Datatypes)"></a>AST Datatypes</h4><p><div class="SIntrapara"><a name="(.Program._.Program)"></a><span style="font-weight: bold">Program</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Program: | s_program(l :: Loc, imports :: List&lt;Header&gt;, block :: Expr) end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Header._.Header)"></a><span style="font-weight: bold">Header</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Header:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_import(l :: Loc, file :: ImportType, name :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_provide(l :: Loc, block :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_provide_all(l :: Loc)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Import.Type._.Import.Type)"></a><span style="font-weight: bold">ImportType</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data ImportType:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_file_import(file :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_const_import(module :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Expr._.Expr)"></a><span style="font-weight: bold">Expr</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Expr:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_hint_exp(l :: Loc, hints :: List&lt;Hint&gt;, e :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_block(l :: Loc, stmts :: List&lt;Expr&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_user_block(l :: Loc, body :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_fun(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">params :: List&lt;String&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">args :: List&lt;Bind&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">ann :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">doc :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">body :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_var(l :: Loc, name :: Bind, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_let(l :: Loc, name :: Bind, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_graph(l :: Loc, bindings :: List&lt;is-s_let&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_when(l :: Loc, test :: Expr, block :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_assign(l :: Loc, id :: String, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_if(l :: Loc, branches :: List&lt;IfBranch&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_if_else(l :: Loc, branches :: List&lt;IfBranch&gt;, _else :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_cases(l :: Loc, type :: Ann, val :: Expr, branches :: List&lt;CasesBranch&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_cases_else(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">type :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">val :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">branches :: List&lt;CasesBranch&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">_else :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_try(l :: Loc, body :: Expr, id :: Bind, _except :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_op(l :: Loc, op :: String, left :: Expr, right :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_check_test(l :: Loc, op :: String, left :: Expr, right :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_not(l :: Loc, expr :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_paren(l :: Loc, expr :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_lam(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">params :: List&lt;String&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">args :: List&lt;Bind&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">ann :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">doc :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">body :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_method(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">args :: List&lt;Bind&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">ann :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">doc :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">body :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_extend(l :: Loc, super :: Expr, fields :: List&lt;Member&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_update(l :: Loc, super :: Expr, fields :: List&lt;Member&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_obj(l :: Loc, fields :: List&lt;Member&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_list(l :: Loc, values :: List&lt;Expr&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_app(l :: Loc, _fun :: Expr, args :: List&lt;Expr&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_left_app(l :: Loc, obj :: Expr, _fun :: Expr, args :: List&lt;Expr&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_id(l :: Loc, id :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_num(l :: Loc, n :: Number)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_bool(l :: Loc, b :: Bool)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_str(l :: Loc, s :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_dot(l :: Loc, obj :: Expr, field :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_get_bang(l :: Loc, obj :: Expr, field :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_bracket(l :: Loc, obj :: Expr, field :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_colon(l :: Loc, obj :: Expr, field :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_colon_bracket(l :: Loc, obj :: Expr, field :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_data(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">params :: List&lt;String&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">mixins :: List&lt;Expr&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">variants :: List&lt;Variant&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">shared_members :: List&lt;Member&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_datatype(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">params :: List&lt;String&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">variants :: List&lt;Variant&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_for(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">iterator :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">bindings :: List&lt;ForBind&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">ann :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">body :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_check(l :: Loc, body :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Bind._.Bind)"></a><span style="font-weight: bold">Bind</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Bind: | s_bind(l :: Loc, id :: String, ann :: Ann) end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Member._.Member)"></a><span style="font-weight: bold">Member</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Member:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_data_field(l :: Loc, name :: Expr, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_mutable_field(l :: Loc, name :: Expr, ann :: Ann, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_once_field(l :: Loc, name :: Expr, ann :: Ann, value :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_method_field(</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">l :: Loc,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">args :: List&lt;Bind&gt;,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">ann :: Ann,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">doc :: String,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">body :: Expr,</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">check :: Expr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.For.Bind._.For.Bind)"></a><span style="font-weight: bold">ForBind</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data ForBind: | s_for_bind(l :: Loc, bind :: Bind, value :: Expr) end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.If.Branch._.If.Branch)"></a><span style="font-weight: bold">IfBranch</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data IfBranch: | s_if_branch(l :: Loc, test :: Expr, body :: Expr) end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Cases.Branch._.Cases.Branch)"></a><span style="font-weight: bold">CasesBranch</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data CasesBranch:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| s_cases_branch(l :: Loc, name :: String, args :: List&lt;Bind&gt;, body :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.Ann._.Ann)"></a><span style="font-weight: bold">Ann</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data Ann:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_blank</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_any</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_name(l :: Loc, id :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_arrow(l :: Loc, args :: List&lt;Ann&gt;, ret :: Ann)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_method(l :: Loc, args :: List&lt;Ann&gt;, ret :: Ann)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_record(l :: Loc, fields :: List&lt;AField&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_app(l :: Loc, ann :: Ann, args :: List&lt;Ann&gt;)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_pred(l :: Loc, ann :: Ann, exp :: Expr)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| a_dot(l :: Loc, obj :: String, field :: String)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">end</span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(.A.Field._.A.Field)"></a><span style="font-weight: bold">AField</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">data AField: | a_field(l :: Loc, name :: String, ann :: Ann) end</span></span></p></td></tr></table></blockquote></div></p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="s_placeholders.html" title="backward to &quot;15 Placeholders&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="http://www.pyret.org/docs/index.html" title="up to &quot;Pyret Language Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from www.pyret.org/docs/s_ast.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 24 Apr 2014 07:13:04 GMT -->
</html>