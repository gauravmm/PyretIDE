<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Mirrored from www.pyret.org/docs/s_running.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 24 Apr 2014 07:13:04 GMT -->
<head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>2&nbsp;Editing and Running Pyret</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="http://www.pyret.org/docs/index.html" class="tocviewlink" data-pltdoc="x">Pyret Language Reference</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="s_installing.html" class="tocviewlink" data-pltdoc="x">Installing Pyret</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Editing and Running Pyret</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="s_forms.html" class="tocviewlink" data-pltdoc="x">Language Constructs</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="s_testing.html" class="tocviewlink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="s_lists.html" class="tocviewlink" data-pltdoc="x">Lists</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="s_arrays.html" class="tocviewlink" data-pltdoc="x">Arrays</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="s_timing.html" class="tocviewlink" data-pltdoc="x">Timing Pyret Programs</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="s_cmdline.html" class="tocviewlink" data-pltdoc="x">Handling Command-<wbr></wbr>line Arguments</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="s_option.html" class="tocviewlink" data-pltdoc="x">Option</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="s_set.html" class="tocviewlink" data-pltdoc="x">Sets</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="s_numbers.html" class="tocviewlink" data-pltdoc="x">Numbers</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="s_strings.html" class="tocviewlink" data-pltdoc="x">Strings</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="s_misc.html" class="tocviewlink" data-pltdoc="x">Miscellaneous Functions</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="s_mutables.html" class="tocviewlink" data-pltdoc="x">Mutables</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="s_placeholders.html" class="tocviewlink" data-pltdoc="x">Placeholders</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="s_ast.html" class="tocviewlink" data-pltdoc="x">AST</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="#" class="tocviewselflink" data-pltdoc="x">Editing and Running Pyret</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._s~3adrracket%29" class="tocviewlink" data-pltdoc="x">Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._s~3acommand-line%29" class="tocviewlink" data-pltdoc="x">Text Editor and Command Line</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#(part._s~3adrracket)" class="tocsubseclink" data-pltdoc="x">Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#(part._s~3acommand-line)" class="tocsubseclink" data-pltdoc="x">Text Editor and Command Line</a></td></tr><tr><td><span class="tocsublinknumber">2.2.1<tt>&nbsp;</tt></span><a href="#(part._s~3acl-run)" class="tocsubseclink" data-pltdoc="x">Running from the Command Line</a></td></tr><tr><td><span class="tocsublinknumber">2.2.2<tt>&nbsp;</tt></span><a href="#(part._s~3aeditors)" class="tocsubseclink" data-pltdoc="x">Editors</a></td></tr><tr><td><span class="tocsublinknumber">2.2.2.1<tt>&nbsp;</tt></span><a href="#(part._s~3aemacs)" class="tocsubseclink" data-pltdoc="x">Emacs</a></td></tr><tr><td><span class="tocsublinknumber">2.2.2.2<tt>&nbsp;</tt></span><a href="#(part._s~3avim)" class="tocsubseclink" data-pltdoc="x">Vim</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">5.3.6</span></div><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="s_installing.html" title="backward to &quot;1 Installing Pyret&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="http://www.pyret.org/docs/index.html" title="up to &quot;Pyret Language Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="s_forms.html" title="forward to &quot;3 Language Constructs&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>2<tt>&nbsp;</tt><a name="(part._s~3arunning)"></a>Editing and Running Pyret</h3><p>There are several options for running Pyret.  For coursework, you should start
your Pyret file with the line:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">#lang pyret/check</span></span></p></td></tr></table></p><p>This tells Pyret that the file is a Pyret program, and you want to run all the
check blocks in it when it is run.</p><h4>2.1<tt>&nbsp;</tt><a name="(part._s~3adrracket)"></a>DrRacket</h4><p>You can edit Pyret files directly in DrRacket.  Make sure under Language -&gt;
Choose Language..., "The Racket Language" is selected.  At the bottom left of
DrRacket, it should say &ldquo;Determine language from source.&rdquo;  You should make
sure the top line says <span class="stt">#lang pyret/check</span>, not <span class="stt">#lang racket</span> or
anything else.  <span style="font-weight: bold">Important</span>: This is a change from previous instructions
which said to use <span class="stt">#lang pyret</span>.  Using <span class="stt">#lang pyret</span> won&rsquo;t run
<span class="stt">check:</span> and <span class="stt">where:</span> blocks in DrRacket.</p><p>You can run Pyret programs in DrRacket with the "Run" button (green arrow), or
with Ctrl-R.  You can interact with functions you&rsquo;ve defined in the
interactions prompt.</p><h4>2.2<tt>&nbsp;</tt><a name="(part._s~3acommand-line)"></a>Text Editor and Command Line</h4><p>You can edit Pyret files using any editor you like, and run them from the
command line.</p><h5>2.2.1<tt>&nbsp;</tt><a name="(part._s~3acl-run)"></a>Running from the Command Line</h5><p>You can run Pyret files with:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">$ raco pyret &lt;pyret-file-here&gt;</span></span></p></td></tr></table></p><p>This will run all the check blocks in the file you provide.  If the Pyret
program in that file imports any other files, check blocks in those files will
<span style="font-style: italic">not</span> be run.</p><p>You can run <span class="stt">raco help pyret</span> to see more options.</p><p>If you get an error like <span class="stt">-bash: raco: command not found</span>, you probably need
to add the Racket binaries to your path.  The easiest way to do this is usually
to edit (or create) a file called <span class="stt">.bashrc</span> in your home or user directory.
First, find where Racket is installed (possibly in Applications/ in OSX, or in
your home directory if you installed via the Racket installer), and copy that
path; for example:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">/home/joe/racket/bin/</span></span></p></td></tr></table></p><p>Then, you should add a line to the end of <span class="stt">.bashrc</span> like:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">PATH=${PATH}:/home/joe/racket/bin/</span></span></p></td></tr></table></p><p>This will cause the <span style="font-style: italic">environment variable</span> called <span class="stt">$PATH</span> to include
the path to Racket on your machine, and it will be set this way each time you
open a new terminal.  (Your terminal uses the value of <span class="stt">$PATH</span> to decide
which directories to look in for commands to run.)</p><p><span style="font-style: italic">For OSX 10.8+</span> (and perhaps lower), creating a .bashrc file in the home
folder will not work in a standard terminal window, as it opens a login shell
by default, and <span class="stt">~/.bashrc</span> is only used for non-login shells. This method
does work for a standard terminal window however (i.e. just clicking on the
terminal application).</p><p>In a blank terminal window, you should type <span class="stt">sudo nano /etc/paths</span>. You will
then have to enter an administrator password which will open the nano editor on
the path file. Use the arrow keys to navigate to the first line below the
directories already present and type:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">/Applications/Racket v5.3.6/bin</span></span></p></td></tr></table></p><p>Then hold the control key and tap the "x" key.  Nano will then prompt you if you
want to save the modified buffer; tap the "y" key to save.</p><p>If you quit your terminal window, open a new one, and type <span class="stt">echo $PATH</span>, you
should see something similar to this:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">/opt/local/bin:/opt/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">/bin:/Applications/Racket v5.3.6/bin:/opt/X11/bin:/usr/texbin</span></span></p></td></tr></table></p><p>As long as you see <span class="stt">:/Applications/Racket v5.3.6/bin</span> somewhere in the output,
the directory has been added correctly.</p><h5>2.2.2<tt>&nbsp;</tt><a name="(part._s~3aeditors)"></a>Editors</h5><p>Pyret currently has modes written for Emacs and Vim.</p><h5>2.2.2.1<tt>&nbsp;</tt><a name="(part._s~3aemacs)"></a>Emacs</h5><p>The Emacs mode for Pyret is the most complete, supporting syntax highlighting
and automatic indentation.  You can get it at
<a href="https://raw.github.com/brownplt/pyret-lang/master/src/emacs/pyret.el"><span class="url">https://raw.github.com/brownplt/pyret-lang/master/src/emacs/pyret.el</span></a>.</p><p>To have it load when you run Emacs, save that file somewhere (the below assumes
you saved it in a directory called <span class="stt">/path/to/pyret/emacs/</span>), and add the
following to your <span class="stt">~/.emacs</span>:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">;; Pyret</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">(ignore-errors</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(add-to-list 'load-path (expand-file-name "/path/to/pyret/emacs/"))</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(require 'pyret)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(add-to-list 'auto-mode-alist '("\\.arr$" . pyret-mode))</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(add-to-list 'file-coding-system-alist '("\\.arr\\'" . utf-8)))</span></span></p></td></tr></table></p><p>If you are on OSX, the <span class="stt">~/.emacs</span> file is not created by default on running emacs
for the first time. To create and edit this file (control key held abbreviated
by C-(other key to press):</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">C-x C-f ~/.emacs</span></span></p></td></tr></table></p><p>You can then copy paste the code from above into the editor, and use
<span class="stt">C-x C-s</span> to save the file.</p><h5>2.2.2.2<tt>&nbsp;</tt><a name="(part._s~3avim)"></a>Vim</h5><p>The Vim mode is more spartan than the Emacs mode, only supporting syntax
highlighting, and no automatic indentation.  You can get it at
<a href="https://raw.github.com/brownplt/pyret-lang/master/src/vim/pyret.vim"><span class="url">https://raw.github.com/brownplt/pyret-lang/master/src/vim/pyret.vim</span></a>; save
a copy of it in your <span class="stt">.vim/syntax/</span> directory.  Then add a line like:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">au BufReadPost *.arr set filetype=pyret</span></span></p></td></tr></table></p><p>to your <span class="stt">~/.vimrc</span>.</p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="s_installing.html" title="backward to &quot;1 Installing Pyret&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="http://www.pyret.org/docs/index.html" title="up to &quot;Pyret Language Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="s_forms.html" title="forward to &quot;3 Language Constructs&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body>
<!-- Mirrored from www.pyret.org/docs/s_running.html by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 24 Apr 2014 07:13:04 GMT -->
</html>